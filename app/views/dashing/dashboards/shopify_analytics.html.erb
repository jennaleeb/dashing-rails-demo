
<!-- Not working - store does not have Advanced Plan -->
<script src="https://cdn.shopify.com/s/assets/external/app.js"></script>
<script type="text/javascript">
  ShopifyApp.init({
    apiKey: '',
    shopOrigin: 'https://cerealkiller2.myshopify.com'
  });

  ShopifyApp.ready(function(){
    var shopifyQL = "SHOW count() FROM visits SINCE -2w UNTIL today";
    var renderData = function(response) {
      View.render('.result', response);
    };
    var handleError = function(response) {
      // handle missing API errors here (missing scopes, back shopifyql, etc...)
    };
    ShopifyApp.Analytics.fetch({
      query: shopifyQL,
      success: renderData,
      error: handleError
    });
  });
</script>

<div class="gridster">
  <ul>
    <li data-row="1" data-col="1" data-sizex="2" data-sizey="1">
      <div data-id="welcome" data-view="Text" data-title="Hello" data-text="This is shiny new dashboard." data-moreinfo="Protip: You can drag the widgets around!"></div>
    </li>

    <li class='result'></li>
  </ul>
  <center><div style="font-size: 12px">Try this: curl -X PUT 'http://<%= request.host %>:<%= request.port %>/dashing/widgets/welcome' --data "widget%5Btext%5D=Dashing+is+awesomecurl"</div></center>
</div>